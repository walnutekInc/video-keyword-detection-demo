import{S as ut,R as at,T as mt,l as U,o as D,c as O,a as f,n as H,w as et,F as z,d as q,t as K,U as lt,e as L,g as nt,B as ct,C as gt,b as St,V as xt,W as Dt,k as W,s as kt,X as Ct,A as $t,z as G}from"./index-0f886d3f.js";import{_ as Tt}from"./_plugin-vue_export-helper-c27b6911.js";import{i as rt}from"./isSymbol-4bbc4ca0.js";import{_ as Ot}from"./Pageheader-f18d17a3.js";import"./menu-140f8145.js";function Yt(t,o){for(var s=-1,i=t==null?0:t.length,d=Array(i);++s<i;)d[s]=o(t[s],s,t);return d}var It=1/0,dt=ut?ut.prototype:void 0,ft=dt?dt.toString:void 0;function vt(t){if(typeof t=="string")return t;if(at(t))return Yt(t,vt)+"";if(rt(t))return ft?ft.call(t):"";var o=t+"";return o=="0"&&1/t==-It?"-0":o}var Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/;function Ht(t,o){if(at(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||rt(t)?!0:At.test(t)||!Pt.test(t)||o!=null&&t in Object(o)}var Nt="Expected a function";function st(t,o){if(typeof t!="function"||o!=null&&typeof o!="function")throw new TypeError(Nt);var s=function(){var i=arguments,d=o?o.apply(this,i):i[0],b=s.cache;if(b.has(d))return b.get(d);var v=t.apply(this,i);return s.cache=b.set(d,v)||b,v};return s.cache=new(st.Cache||mt),s}st.Cache=mt;var Rt=500;function Et(t){var o=st(t,function(i){return s.size===Rt&&s.clear(),i}),s=o.cache;return o}var Ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/\\(\\)?/g,Lt=Et(function(t){var o=[];return t.charCodeAt(0)===46&&o.push(""),t.replace(Ft,function(s,i,d,b){o.push(d?b.replace(zt,"$1"):i||s)}),o});const Wt=Lt;function jt(t){return t==null?"":vt(t)}function Vt(t,o){return at(t)?t:Ht(t,o)?[t]:Wt(jt(t))}var Bt=1/0;function Ut(t){if(typeof t=="string"||rt(t))return t;var o=t+"";return o=="0"&&1/t==-Bt?"-0":o}function Zt(t,o){o=Vt(o,t);for(var s=0,i=o.length;t!=null&&s<i;)t=t[Ut(o[s++])];return s&&s==i?t:void 0}function ht(t,o,s){var i=t==null?void 0:Zt(t,o);return i===void 0?s:i}const Jt=["onClick"],Xt=f("a",{class:"page-link",href:"javascript:;",tabindex:"-1"},"前一頁",-1),qt=[Xt],Gt=["onClick"],Kt={class:"page-link",href:"javascript:;"},Qt=["onClick"],te=f("a",{class:"page-link",href:"javascript:;"},"下一頁",-1),ee=[te],ne={__name:"Pagination",props:{pagination:{type:Object,default:()=>({total:0,size:10,page:0})}},emits:["pageChange"],setup(t,{emit:o}){const s=t,i=U(()=>{let _=(s.pagination.total+s.pagination.current)/s.pagination.size;return Math.ceil(_)}),d=U(()=>s.pagination.current),b=U(()=>{let _=1,y=1;i.value<=5||d.value<=3?(_=1,d.value<=3&&i.value>5?y=5:y=i.value):i.value-d.value<2?(_=i.value-4,y=i.value):(_=d.value-2,y=d.value+2,y>i.value&&(y=i.value));let T=[];for(let P=_;P<=y;P++)T.push(P);return T}),v=()=>{window.scrollTo(0,0)},g=U(()=>d.value!==1),k=U(()=>i.value>0&&d.value!==i.value),S=_=>{d.value!=_&&(o("pageChange",_),v())},I=()=>{g.value&&(o("pageChange",s.pagination.current-1),v())},m=()=>{k.value&&(o("pageChange",s.pagination.current+1),v())};return(_,y)=>(D(),O("ul",{class:H(["pagination mt-4 mb-0 float-end",{"d-none":s.pagination.total==0}])},[f("li",{class:H(["page-item page-prev",{disabled:!g.value}]),onClick:et(I,["prevent"])},qt,10,Jt),(D(!0),O(z,null,q(b.value,(T,P)=>(D(),O("li",{class:H(["page-item",{active:T===d.value}]),key:P,onClick:et(it=>S(T),["prevent"])},[f("a",Kt,K(T),1)],10,Gt))),128)),f("li",{class:H(["page-item page-next",{disabled:!k.value}]),onClick:et(m,["prevent"])},ee,10,Qt)],2))}};const ae={class:"table-responsive border userlist-table"},re={class:"table card-table table-striped table-vcenter text-nowrap mb-0"},se=["width","onClick"],ie=["colspan"],oe={__name:"DataTable",props:{pageChange:{type:Function},items:{type:Array,required:!0},header:{type:Array,required:!0},pagination:{type:Object},sort:{type:[String]},orderBy:{type:[String,Number]}},emits:["changePage","orderChange"],setup(t,{emit:o}){const s=t,i=lt(s,"sort"),d=lt(s,"orderBy"),b=g=>{o("changePage",g)},v=(g,k)=>{g&&o("orderChange",k,k===d.value&&i.value==="asc"?"desc":"asc")};return(g,k)=>(D(),O(z,null,[f("div",ae,[f("table",re,[f("thead",null,[f("tr",null,[(D(!0),O(z,null,q(t.header,({label:S,thClassName:I,key:m,sorted:_})=>(D(),O("th",{class:H(["wd-lg-20p",{[I||(_?"sorted":"")]:!0,active_asc:_&&i.value==="asc"&&d.value==m,active_desc:_&&i.value==="desc"&&d.value==m}]),key:m,width:g.width,onClick:y=>v(_,m)},[L(g.$slots,`${m}-header`,{},()=>[nt(K(S),1)],!0)],10,se))),128))])]),f("tbody",null,[t.items.length>0?(D(!0),O(z,{key:0},q(t.items,(S,I)=>(D(),O("tr",{key:S.id},[(D(!0),O(z,null,q(t.header,({key:m,tdClassName:_},y)=>(D(),O("td",{key:m,class:H(_)},[L(g.$slots,m,{item:S,value:ct(ht)(S,m,""),index:y,itemIndex:I},()=>[nt(K(ct(ht)(S,m,"")),1)],!0)],2))),128))]))),128)):(D(),O("td",{key:1,colspan:t.header.length,class:"text-center"}," 查無資料 ",8,ie))])])]),t.pagination?(D(),gt(ne,{key:0,pagination:t.pagination,onPageChange:b},null,8,["pagination"])):St("",!0)],64))}},_t=Tt(oe,[["__scopeId","data-v-f58b027b"]]);var yt={exports:{}};(function(t,o){(function(s,i){t.exports=i()})(xt,function(){var s=1e3,i=6e4,d=36e5,b="millisecond",v="second",g="minute",k="hour",S="day",I="week",m="month",_="quarter",y="year",T="date",P="Invalid Date",it=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,bt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Mt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var a=["th","st","nd","rd"],e=u%100;return"["+u+(a[(e-20)%10]||a[e]||a[0])+"]"}},Q=function(u,a,e){var r=String(u);return!r||r.length>=a?u:""+Array(a+1-r.length).join(e)+u},wt={s:Q,z:function(u){var a=-u.utcOffset(),e=Math.abs(a),r=Math.floor(e/60),n=e%60;return(a<=0?"+":"-")+Q(r,2,"0")+":"+Q(n,2,"0")},m:function u(a,e){if(a.date()<e.date())return-u(e,a);var r=12*(e.year()-a.year())+(e.month()-a.month()),n=a.clone().add(r,m),l=e-n<0,c=a.clone().add(r+(l?-1:1),m);return+(-(r+(e-n)/(l?n-c:c-n))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:m,y,w:I,d:S,D:T,h:k,m:g,s:v,ms:b,Q:_}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},j="en",N={};N[j]=Mt;var tt=function(u){return u instanceof J},Z=function u(a,e,r){var n;if(!a)return j;if(typeof a=="string"){var l=a.toLowerCase();N[l]&&(n=l),e&&(N[l]=e,n=l);var c=a.split("-");if(!n&&c.length>1)return u(c[0])}else{var p=a.name;N[p]=a,n=p}return!r&&n&&(j=n),n||!r&&j},M=function(u,a){if(tt(u))return u.clone();var e=typeof a=="object"?a:{};return e.date=u,e.args=arguments,new J(e)},h=wt;h.l=Z,h.i=tt,h.w=function(u,a){return M(u,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var J=function(){function u(e){this.$L=Z(e.locale,null,!0),this.parse(e)}var a=u.prototype;return a.parse=function(e){this.$d=function(r){var n=r.date,l=r.utc;if(n===null)return new Date(NaN);if(h.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var c=n.match(it);if(c){var p=c[2]-1||0,$=(c[7]||"0").substring(0,3);return l?new Date(Date.UTC(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)):new Date(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)}}return new Date(n)}(e),this.$x=e.x||{},this.init()},a.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},a.$utils=function(){return h},a.isValid=function(){return this.$d.toString()!==P},a.isSame=function(e,r){var n=M(e);return this.startOf(r)<=n&&n<=this.endOf(r)},a.isAfter=function(e,r){return M(e)<this.startOf(r)},a.isBefore=function(e,r){return this.endOf(r)<M(e)},a.$g=function(e,r,n){return h.u(e)?this[r]:this.set(n,e)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(e,r){var n=this,l=!!h.u(r)||r,c=h.p(e),p=function(E,C){var A=h.w(n.$u?Date.UTC(n.$y,C,E):new Date(n.$y,C,E),n);return l?A:A.endOf(S)},$=function(E,C){return h.w(n.toDate()[E].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(C)),n)},w=this.$W,x=this.$M,Y=this.$D,F="set"+(this.$u?"UTC":"");switch(c){case y:return l?p(1,0):p(31,11);case m:return l?p(1,x):p(0,x+1);case I:var R=this.$locale().weekStart||0,V=(w<R?w+7:w)-R;return p(l?Y-V:Y+(6-V),x);case S:case T:return $(F+"Hours",0);case k:return $(F+"Minutes",1);case g:return $(F+"Seconds",2);case v:return $(F+"Milliseconds",3);default:return this.clone()}},a.endOf=function(e){return this.startOf(e,!1)},a.$set=function(e,r){var n,l=h.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[S]=c+"Date",n[T]=c+"Date",n[m]=c+"Month",n[y]=c+"FullYear",n[k]=c+"Hours",n[g]=c+"Minutes",n[v]=c+"Seconds",n[b]=c+"Milliseconds",n)[l],$=l===S?this.$D+(r-this.$W):r;if(l===m||l===y){var w=this.clone().set(T,1);w.$d[p]($),w.init(),this.$d=w.set(T,Math.min(this.$D,w.daysInMonth())).$d}else p&&this.$d[p]($);return this.init(),this},a.set=function(e,r){return this.clone().$set(e,r)},a.get=function(e){return this[h.p(e)]()},a.add=function(e,r){var n,l=this;e=Number(e);var c=h.p(r),p=function(x){var Y=M(l);return h.w(Y.date(Y.date()+Math.round(x*e)),l)};if(c===m)return this.set(m,this.$M+e);if(c===y)return this.set(y,this.$y+e);if(c===S)return p(1);if(c===I)return p(7);var $=(n={},n[g]=i,n[k]=d,n[v]=s,n)[c]||1,w=this.$d.getTime()+e*$;return h.w(w,this)},a.subtract=function(e,r){return this.add(-1*e,r)},a.format=function(e){var r=this,n=this.$locale();if(!this.isValid())return n.invalidDate||P;var l=e||"YYYY-MM-DDTHH:mm:ssZ",c=h.z(this),p=this.$H,$=this.$m,w=this.$M,x=n.weekdays,Y=n.months,F=n.meridiem,R=function(C,A,B,X){return C&&(C[A]||C(r,l))||B[A].slice(0,X)},V=function(C){return h.s(p%12||12,C,"0")},E=F||function(C,A,B){var X=C<12?"AM":"PM";return B?X.toLowerCase():X};return l.replace(bt,function(C,A){return A||function(B){switch(B){case"YY":return String(r.$y).slice(-2);case"YYYY":return h.s(r.$y,4,"0");case"M":return w+1;case"MM":return h.s(w+1,2,"0");case"MMM":return R(n.monthsShort,w,Y,3);case"MMMM":return R(Y,w);case"D":return r.$D;case"DD":return h.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return R(n.weekdaysMin,r.$W,x,2);case"ddd":return R(n.weekdaysShort,r.$W,x,3);case"dddd":return x[r.$W];case"H":return String(p);case"HH":return h.s(p,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return E(p,$,!0);case"A":return E(p,$,!1);case"m":return String($);case"mm":return h.s($,2,"0");case"s":return String(r.$s);case"ss":return h.s(r.$s,2,"0");case"SSS":return h.s(r.$ms,3,"0");case"Z":return c}return null}(C)||c.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(e,r,n){var l,c=this,p=h.p(r),$=M(e),w=($.utcOffset()-this.utcOffset())*i,x=this-$,Y=function(){return h.m(c,$)};switch(p){case y:l=Y()/12;break;case m:l=Y();break;case _:l=Y()/3;break;case I:l=(x-w)/6048e5;break;case S:l=(x-w)/864e5;break;case k:l=x/d;break;case g:l=x/i;break;case v:l=x/s;break;default:l=x}return n?l:h.a(l)},a.daysInMonth=function(){return this.endOf(m).$D},a.$locale=function(){return N[this.$L]},a.locale=function(e,r){if(!e)return this.$L;var n=this.clone(),l=Z(e,r,!0);return l&&(n.$L=l),n},a.clone=function(){return h.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},u}(),ot=J.prototype;return M.prototype=ot,[["$ms",b],["$s",v],["$m",g],["$H",k],["$W",S],["$M",m],["$y",y],["$D",T]].forEach(function(u){ot[u[1]]=function(a){return this.$g(a,u[0],u[1])}}),M.extend=function(u,a){return u.$i||(u(a,J,M),u.$i=!0),M},M.locale=Z,M.isDayjs=tt,M.unix=function(u){return M(1e3*u)},M.en=N[j],M.Ls=N,M.p={},M})})(yt);var ue=yt.exports;const pt=Dt(ue),le={class:"modal-content"},ce={class:"modal-header"},de={class:"modal-title"},fe=f("button",{"aria-label":"Close",class:"btn-close",type:"button","data-bs-dismiss":"modal"},null,-1),he={class:"modal-footer"},pe=f("button",{class:"btn ripple btn-secondary",type:"button","data-bs-dismiss":"modal"}," 關閉 ",-1),me={__name:"Modal",props:{title:{type:String,default:""},dialogClass:{type:String,default:""},bodyClass:{type:String,default:""},modalHide:Function,modalShow:Function},setup(t,{expose:o}){const s=t,i=W(null),d=W(null),b=()=>d.value.show(),v=()=>d.value.hide();return kt(()=>{d.value=new Ct(i.value),i.value.addEventListener("show.bs.modal",()=>{s.modalShow&&s.modalShow()}),i.value.addEventListener("hidden.bs.modal",()=>{s.modalHide&&s.modalHide()})}),o({show:b,hide:v}),(g,k)=>(D(),O("div",{class:"modal fade",ref_key:"modalRef",ref:i,tabindex:"-1"},[f("div",{class:H(["modal-dialog",{[t.dialogClass]:!0}]),role:"document"},[f("div",le,[f("div",ce,[L(g.$slots,"header",{},()=>[f("h6",de,[L(g.$slots,"title",{},()=>[nt(K(t.title),1)])]),fe])]),f("div",{class:H(["modal-body",{[t.bodyClass]:!0}])},[L(g.$slots,"default")],2),f("div",he,[L(g.$slots,"footer",{},()=>[pe])])])],2)],512))}},ge={class:"row"},$e={class:"col-12 mb-4"},ve=f("p",{class:"mg-b-10"},"逐字稿",-1),_e=["value"],ye={class:"col-12"},be="public/test.mov",Me={__name:"AnalysisResultModal",setup(t,{expose:o}){const s=W(null),i=W({video:"https://youtu.be/JamlGaAmeRM?feature=shared",transcript:`這是生物學課程…xxxxxx
Xxxxx
xxxxx`,keywordStatistics:[{id:"1",key:"細胞生命",count:1},{id:"2",key:"細胞核",count:10}]});return o({show:()=>s.value.show()}),(d,b)=>(D(),gt(me,{ref_key:"modalRef",ref:s,title:"分析結果","dialog-class":"modal-xl modal-dialog-centered"},{default:$t(()=>[f("div",ge,[f("div",{class:"col-12 mb-4"},[f("video",{controls:"",style:{width:"100%"}},[f("source",{src:be})])]),f("div",$e,[ve,f("textarea",{class:"form-control",readonly:"",value:i.value.transcript},null,8,_e)]),f("div",ye,[G(_t,{header:[{key:"key",label:"關鍵字"},{key:"count",label:"統計數字"}],items:i.value.keywordStatistics},null,8,["items"])])])]),_:1},512))}},we={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 grid-margin"},Se={class:"card custom-card"},xe={class:"card-body"},De="影片管理",Ie={__name:"index",setup(t){const o=[{label:"影片名稱",key:"name"},{label:"上傳時間",key:"uploadTime"},{label:"狀態",key:"status"},{label:"詳細內容",key:"action"}],s=W({total:10,size:10,page:1}),i=[{id:1,name:"生物課",uploadTime:pt().format("YYYY-MM-DD"),status:"分析中"},{id:2,name:"生物作業",uploadTime:pt().format("YYYY-MM-DD"),status:"分析完成"}],d=W(null);return(b,v)=>(D(),O(z,null,[G(Ot,{title:De}),f("div",we,[f("div",Se,[f("div",xe,[G(_t,{header:o,pagination:s.value,items:i},{action:$t(()=>[f("button",{type:"button",class:"btn btn-info",onClick:v[0]||(v[0]=g=>d.value.show())},"分析結果")]),_:1},8,["pagination"])])])]),G(Me,{ref_key:"analysisResultModalRef",ref:d},null,512)],64))}};export{Ie as default};
